<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Vanilla 16-Step Drum Sequencer</title>
<style>
  :root{
    --bg:#0f1115;
    --panel:#151923;
    --text:#e8ecf1;
    --muted:#9aa3b2;
    --accent:#6ee7ff;      /* active step color */
    --playhead:#ffd166;     /* playhead highlight */
    --on:#2dd4bf;           /* toggled cell */
    --off:#2a3142;          /* untoggled cell */
    --danger:#ef4444;
    --ok:#22c55e;
    --focus:#93c5fd;
    --grid-gap:6px;
    --cell-size:42px;
  }
  html, body {
    height:100%;
    background:linear-gradient(180deg, #0f1115, #10141c);
    color:var(--text);
    font: 500 16px/1.3 system-ui, -apple-system, Segoe UI, Roboto, Inter, "Helvetica Neue", Arial, Noto Sans, "Apple Color Emoji", "Segoe UI Emoji";
    margin:0;
  }
  .app {
    max-width: 1100px;
    margin: 16px auto 64px;
    padding: 12px;
  }
  .toolbar {
    display:flex;
    flex-wrap:wrap;
    gap:10px;
    align-items:center;
    background:var(--panel);
    border:1px solid #242b3b;
    border-radius:14px;
    padding:10px;
    position:sticky; top:0;
    z-index:2;
  }
  .toolbar .group{
    display:flex; align-items:center; gap:10px;
    background:#111522; border-radius:10px; padding:8px 10px;
    border:1px solid #22293a;
  }
  .toolbar label{
    font-size:12px; color:var(--muted);
  }
  .toolbar input[type="range"]{
    width:150px;
  }
  button, .btn {
    background:#1b2235; color:var(--text);
    border:1px solid #2a3142; border-radius:10px;
    padding:10px 14px; cursor:pointer; font-weight:600;
  }
  button:hover{ border-color:#3b465f }
  button:focus-visible{ outline:2px solid var(--focus); outline-offset:2px }
  .btn-primary{ background:#20304a; border-color:#365279 }
  .btn-danger{ background:#2a1b1d; border-color:#552427; color:#ffdfe0 }
  .btn-ok{ background:#1a2d26; border-color:#1f6b57 }
  .grid-wrap{
    margin-top:14px;
    background:var(--panel);
    border:1px solid #242b3b;
    border-radius:14px;
    padding:12px;
  }
  .legend{
    display:grid;
    grid-template-columns: 110px 1fr;
    align-items:center;
    gap:10px;
    margin-bottom:8px;
    color:var(--muted);
  }
  .row-label{
    display:flex; align-items:center; justify-content:space-between;
    gap:8px;
    padding:6px 8px;
    border-radius:8px;
    background:#111522;
    border:1px solid #22293a;
  }
  .row-label .name{ font-weight:700; letter-spacing:0.3px }
  .row-label .muter{
    padding:6px 10px; border-radius:8px; font-size:12px
  }
  .grid {
    display:grid;
    grid-template-columns: 110px repeat(16, minmax(28px, var(--cell-size)));
    gap:var(--grid-gap);
  }
  .cell {
    aspect-ratio:1/1;
    display:grid; place-items:center;
    background:var(--off);
    border:1px solid #3a4356;
    border-radius:10px;
    user-select:none;
    cursor:pointer;
    transition:transform .05s ease, background .1s ease, border-color .1s ease, box-shadow .1s ease;
  }
  .cell[aria-checked="true"]{
    background:linear-gradient(180deg, rgba(45,212,191,.18), rgba(45,212,191,.10));
    border-color:#2dd4bf;
    box-shadow: inset 0 0 0 2px rgba(45,212,191,.35);
  }
  .cell.playhead{
    box-shadow: 0 0 0 2px var(--playhead), inset 0 0 0 2px rgba(255,209,102,.35);
    border-color:var(--playhead);
  }
  .cell.step-4n{ /* light measure markers (steps 1,5,9,13) */
    background: #263045;
  }
  .cell:focus-visible{
    outline:2px solid var(--focus); outline-offset:2px;
  }
  .footer-note{ color:var(--muted); font-size:12px; margin-top:10px }
  .spacer{ flex:1 }
  /* Mobile friendliness */
  @media (max-width: 820px){
    :root{ --cell-size: 40px }
    .grid { grid-template-columns: 90px repeat(16, minmax(28px, var(--cell-size))); }
    .row-label{ padding:6px }
  }
  @media (max-width: 640px){
    :root{ --cell-size: 38px }
    .toolbar .group{ width:100%; justify-content:space-between }
    .grid { grid-template-columns: 1fr 1fr 1fr 1fr; }
    .grid .row-label{ grid-column: 1 / -1 }
  }
</style>
</head>
<body>
<!-- Body content here (truncated for brevity) -->
</body>
</html>
